{"version":3,"sources":["redux/auth/auth-selector.js","redux/auth/auth-operations.js","Components/Navigation/Navigation.module.css","redux/contacts/contacts-actions.js","Components/PrivateRouter.js","Components/PublicRouter.js","Components/Navigation/ContactNav.js","Components/Navigation/Navigation.js","Components/UserMenu/UserMenu.js","Components/AppBar/AppBar.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["authSelectors","getIsLoggedIn","state","auth","isLoggedIn","getUserName","user","name","getIsFetching","isFetching","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","alert","logIn","Exit","fetchCurrentUser","_","thunkAPI","getState","persistedToken","rejectWithValue","get","authOperations","module","exports","changeFilter","createAction","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","fetchAddToContactsRequest","fetchAddToContactsSuccess","fetchAddToContactsError","fetchDeleteRequest","fetchDeleteSuccess","fetchDeleteError","PrivateRoute","component","redirectTo","children","routeProps","useSelector","to","PublicRoute","restricted","shouldRedirect","ContactNav","Navigation","exact","className","s","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","authSelector","type","onClick","AppBar","EnterView","lazy","RegisterView","ContactsView","App","useEffect","fallback","color","height","width","path","itemsReducer","createReducer","actions","action","payload","filterReducer","isLoadingReducer","errorReducer","contactsReducer","combineReducers","items","isLoading","error","filter","authSlice","createSlice","initialState","email","extraReducers","fulfilled","pending","rejected","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","store","configureStore","reducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.43f732a1.chunk.js","sourcesContent":["const getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\nconst getUserName = (state) => state.auth.user.name;\r\n\r\nconst getIsFetching = (state) => state.auth.isFetching;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n\r\n  getIsFetching,\r\n};\r\n\r\nexport default authSelectors;\r\n","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk(\"auth/register\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/singnup\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong\");\r\n  }\r\n});\r\n\r\nconst logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong\");\r\n  }\r\n});\r\n\r\nconst Exit = createAsyncThunk(\"auth/exit\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/exit\", credentials);\r\n    token.unset();\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong\");\r\n  }\r\n});\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  \"auth/current\",\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {\r\n      alert(\"Some problems\");\r\n    }\r\n  }\r\n);\r\nconst authOperations = {\r\n  register,\r\n  logIn,\r\n  Exit,\r\n  fetchCurrentUser,\r\n};\r\nexport default authOperations;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1ec81\",\"activeLink\":\"Navigation_activeLink__3nU2_ Navigation_link__1ec81\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const changeFilter = createAction(\"phonebook/filterContacts\");\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"contacts/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"contacts/fetchContactsSuccess\"\r\n);\r\n\r\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\nexport const fetchAddToContactsRequest = createAction(\r\n  \"contacts/fetchAddToContactsRequest\"\r\n);\r\nexport const fetchAddToContactsSuccess = createAction(\r\n  \"contacts/fetchAddToContactsSuccess\"\r\n);\r\nexport const fetchAddToContactsError = createAction(\r\n  \"contacts/fetchAddToContactsError\"\r\n);\r\nexport const fetchDeleteRequest = createAction(\"contacts/fetchDeleteRequest\");\r\nexport const fetchDeleteSuccess = createAction(\"contacts/fetchDeleteSuccess\");\r\nexport const fetchDeleteError = createAction(\"contacts/fetchDeleteError\");\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Navigate } from \"react-router\";\r\nimport authSelectors from \"../redux/auth/auth-selector\";\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo = \"/\",\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Navigate to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Navigate } from \"react-router-dom\";\r\nimport authSelectors from \"../redux/auth/auth-selector\";\r\n\r\nexport default function PublicRoute({\r\n  restricted = false,\r\n  redirectTo = \"/\",\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Navigate to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport authSelectors from \"../../redux/auth/auth-selector\";\r\nconst ContactNav = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <div>\r\n      <div> {isLoggedIn && <NavLink to=\"/contacts\">Contacts</NavLink>}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactNav;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navigation.module.css\";\r\n\r\nexport default function Navigation() {\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        exact\r\n        to=\"/register\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Регистрация\r\n      </NavLink>\r\n      <NavLink to=\"/login\" className={s.link} activeClassName={s.activeLink}>\r\n        Вход\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport authSelector from \"../../redux/auth/auth-selector\";\r\nimport authOperations from \"../../redux/auth/auth-operations\";\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelector.getUserName);\r\n  return (\r\n    <div>\r\n      <h1>Hi, {name}! </h1>\r\n      <button type=\"button\" onClick={() => dispatch(authOperations.Exit())}>\r\n        Exit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\n\r\nimport ContactNav from \"../Navigation/ContactNav\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport authSelectors from \"../../redux/auth/auth-selector\";\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <div>\r\n      <ContactNav />\r\n      {isLoggedIn ? <UserMenu /> : <Navigation />}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, lazy, Suspense } from \"react\";\nimport { Routes } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport PrivateRoute from \"./Components/PrivateRouter\";\nimport PublicRoute from \"./Components/PublicRouter\";\nimport AppBar from \"./Components/AppBar/AppBar\";\nimport authOperations from \"./redux/auth/auth-operations\";\nimport authSelectors from \"./redux/auth/auth-selector\";\n\nconst EnterView = lazy(() => import(\"./view/EnterView\"));\nconst RegisterView = lazy(() => import(\"./view/RegisterView\"));\nconst ContactsView = lazy(() => import(\"./view/ContactsView\"));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetching = useSelector(authSelectors.getIsFetching);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return !isFetching ? (\n    <div>\n      <AppBar />\n\n      <Suspense\n        fallback={\n          <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n        }\n      >\n        <Routes>\n          <PublicRoute exact path=\"/register\" redirectTo=\"/contacts\" restricted>\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute exact path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <EnterView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n        </Routes>\n      </Suspense>\n    </div>\n  ) : null;\n}\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport * as actions from \"./contacts-actions\";\r\n\r\nconst itemsReducer = createReducer([], {\r\n  [actions.fetchContactsSuccess]: (_, action) => {\r\n    return [...action.payload];\r\n  },\r\n  [actions.fetchContactsError]: (state, _) => state,\r\n});\r\n\r\nconst filterReducer = createReducer(\"\", {\r\n  [actions.changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLoadingReducer = createReducer(false, {\r\n  [actions.fetchContactsRequest]: () => true,\r\n  [actions.fetchContactsError]: () => false,\r\n  [actions.fetchContactsSuccess]: () => false,\r\n  [actions.fetchAddToContactsRequest]: () => true,\r\n  [actions.fetchAddToContactsError]: () => false,\r\n  [actions.fetchAddToContactsSuccess]: () => false,\r\n  [actions.fetchDeleteRequest]: () => true,\r\n  [actions.fetchDeleteError]: () => false,\r\n  [actions.fetchDeleteSuccess]: () => false,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [actions.fetchContactsError]: (_, { payload }) => payload,\r\n  [actions.fetchContactsRequest]: (_, { payload }) => null,\r\n});\r\n\r\nexport const contactsReducer = combineReducers({\r\n  items: itemsReducer,\r\n  isLoading: isLoadingReducer,\r\n  error: errorReducer,\r\n  filter: filterReducer,\r\n});\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport authOperations from \"./auth-operations\";\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetching: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.Exit.fulfilled](state, _) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetching = true;\r\n    },\r\n\r\n    [authOperations.fetchCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetching = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.rejected](state, action) {\r\n      state.isFetching = false;\r\n    },\r\n  },\r\n});\r\nexport default authSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport logger from \"redux-logger\";\r\nimport { contactsReducer } from \"./contacts/contacts-reducer\";\r\nimport authSlice from \"./auth/auth-slice\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, authSlice);\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    auth: persistedReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }).concat(logger),\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nexport let persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { store, persistor } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}